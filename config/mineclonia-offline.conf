# Luanti Mineclonia Server Configuration - OFFLINE/LAN OPTIMIZED
# Use this config for local home network gaming (no internet players)
# Accessible on port 30000

# Admin Privileges
name = admin
default_privs = interact, shout, kick, ban, fly, noclip, fast, teleport, server, weather_manager

# Server name and description
server_name = Mineclonia Home Server (LAN)
server_description = Offline Luanti server optimized for home network

# Basic server settings
port = 30000
max_users = 8
creative_mode = false
enable_damage = true
gameid = mineclonia

# ============================================
# PERFORMANCE SETTINGS - OPTIMIZED FOR LAN
# ============================================

# Faster block/terrain loading (LAN has low latency)
max_simultaneous_block_sends_per_client = 40
max_simultaneous_block_sends_server_total = 100
max_block_send_distance = 12
active_block_range = 3
server_map_save_interval = 120

# Network optimization for LAN (high bandwidth, low latency)
max_packets_per_iteration = 2048
time_send_interval = 5

# Chunk/mapgen optimization (use more CPU for faster world gen)
num_emerge_threads = 2
emergequeue_limit_total = 1024
emergequeue_limit_diskonly = 128
emergequeue_limit_generate = 128

# Reduce server lag (faster tick rate)
dedicated_server_step = 0.05
max_objects_per_block = 64
abm_interval = 1.0
abm_time_budget = 0.2

# Smoother liquid updates (water, lava)
liquid_loop_max = 100000
liquid_queue_purge_time = 0

# Stricter timeout for LAN (detect disconnects faster)
client_unload_unused_data_timeout = 120

# ============================================
# END PERFORMANCE SETTINGS
# ============================================

# World settings
mg_name = v7
water_level = 1

# Security settings (relaxed for home network)
enable_pvp = false
disable_anticheat = false
disallow_empty_password = true
default_privs = interact, shout

# HTTP API access for mtui mod (required for web admin integration)
secure.http_mods = mtui
secure.trusted_mods = mtui

# Shared key for mtui mod <-> mtui web communication
mtui.key = luanti-mtui-secret-key-2025
mtui.url = http://mtui-mineclonia:8080

# Logging (minimal for performance)
debug_log_level = warning
log_file = /luanti/luanti/logs/mineclonia.log

# Backup settings
enable_backups = true
backup_interval = 3600
backup_max_count = 24

# Enable mods
load_mod_animalia = true
load_mod_i3 = true
load_mod_3d_armor = true
load_mod_spectator_mode = true
load_mod_skinsdb = true
load_mod_awards = true
load_mod_protector = true
load_mod_worldedit = true
load_mod_travelnet = true
load_mod_lootchests = true
load_mod_ambience = true
load_mod_no_register = true

# Protector mod tuning
protector_radius = 5

# Set texture pack
texture_path = /luanti/luanti/textures/soothing_32
